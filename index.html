<!DOCTYPE html>
<html ng-app="store">
  <head>
    <script>document.write('<base href="' + document.location + '" />');</script>
    <title>Angular version 1</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/styles.css">
  </head>

  <body ng-controller="StoreController as store" class="col-sm-6">
    <h1>Sabzi wala store</h1>

    <!-- Level 1 -->
    <!-- <div class="list-group">
      <div ng-repeat="product in store.products" class="list-group-item">
        <h1>{{product.name}}</h1>
        <h2>${{product.price}}</h2>
        <p>{{product.description}}</p>
        <button ng-show="product.canPurchase">Add To Cart</button>
        <p>{{product.description | limitTo:20}}</p>
       <p>added on: <i>{{product.date | date:'MM/dd/yyyy @ h:mma'}}</i></p>
      </div>
    </div> -->

    <!-- Level 1.2 -->
    <!-- <ul class="list-group">
     <li class="list-group-item" ng-repeat="product in store.products | limitTo:3 | orderBy:'-price'">
       <h3>
         {{product.name | uppercase}}
         <em class="pull-right">{{product.price | currency}}</em>
       </h3>
       <img ng-src="{{product.image.full}}"/>

       <section ng-init="tab = 1" ng-controller="PanelController as panel">

         <ul class="nav nav-pills">
          <li ng-class="{ active:tab === 1 }"> <a href ng-click="tab = 1">Description</a> </li>
          <li ng-class="{ active:tab === 2 }"> <a href ng-click="tab = 2">Specifications</a> </li>
          <li ng-class="{ active:tab === 3 }"> <a href ng-click="tab = 3">Reviews</a> </li>
         </ul>

          <div class="panel" ng-show="tab === 1">
            <h4>Description</h4>
            <blockquote>{{product.description}}</blockquote>
          </div>
          <div class="panel" ng-show="tab === 2">
            <h4>Specifications</h4>
            <blockquote>none yet</blockquote>
          </div>
          <div class="panel" ng-show="tab === 3">
            <h4>Reviews</h4>
            <blockquote>none yet</blockquote>
          </div>

        </section>

     </li>
    </ul> -->

    <!-- Level 1.3 -->
    <!-- <ul class="list-group">
     <li class="list-group-item" ng-repeat="product in store.products | limitTo:3 | orderBy:'-price'">
       <h3>
         {{product.name | uppercase}}
         <em class="pull-right">{{product.price | currency}}</em>
       </h3>
       <img ng-src="{{product.image.full}}"/>

       <section ng-controller="PanelController as panel">

         <ul class="nav nav-pills">
          <li ng-class="{ active:panel.isSelected(1) }"> <a href ng-click="panel.selectTab(1)">Description</a> </li>
          <li ng-class="{ active:panel.isSelected(2) }"> <a href ng-click="panel.selectTab(2)">Specifications</a> </li>
          <li ng-class="{ active:panel.isSelected(3) }"> <a href ng-click="panel.selectTab(3)">Reviews</a> </li>
         </ul>

          <div class="panel" ng-show="panel.isSelected(1)">
            <h4>Description</h4>
            <blockquote>{{product.description}}</blockquote>
          </div>
          <div class="panel" ng-show="panel.isSelected(2)">
            <h4>Specifications</h4>
            <blockquote>none yet</blockquote>
          </div>
          <div class="panel" ng-show="panel.isSelected(3)">
            <h4>Reviews</h4>
            <div>
              <blockquote ng-repeat="review in product.reviews">
              <b>Stars: {{review.stars}}</b>
              {{review.body}}<br/>
              <cite>-{{review.author}}</cite>
              </blockquote>
            </div>

            <form name="reviewForm" ng-controller="ReviewController as reviewCtrl" ng-submit="reviewForm.$valid && reviewCtrl.addReview(product)" novalidate>
              <blockquote>
                <b>Stars: {{reviewCtrl.review.stars}}</b>
                {{reviewCtrl.review.body}}<br/>
                <cite>-{{reviewCtrl.review.author}}</cite>
              </blockquote>
              <div class="col-sm-12">
                <h5>Submit a Review</h5>
              </div>
              <div class="col-sm-6 input-group">
                <select class="form-control" ng-model="reviewCtrl.review.stars" required>
                  <option value="">Rate the Product</option>
                  <option value="1">1 Star</option>
                  <option value="2">2 Stars</option>
                  <option value="3">3 Stars</option>
                  <option value="4">4 Stars</option>
                  <option value="5">5 Stars</option>
                </select>
              </div>
              <div class="col-sm-6 input-group">
                <textarea class="form-control" ng-model="reviewCtrl.review.body" required></textarea>
              </div>
              <div class="col-sm-6 input-group">
                <input type="email" class="form-control"  ng-model="reviewCtrl.review.author" required />
              </div>
              <div class="col-sm-6 input-group">
                <div> review form is {{reviewForm.$valid}}</div>
                <input type="submit" value="Submit Review" class="btn btn-primary" />
              </div>
            </form>
          </div>

        </section>

     </li>
    </ul> -->

    <!-- Level 1.4 -->
    <ul class="list-group">
      <li class="list-group-item" ng-repeat="product in store.products | limitTo:3 | orderBy:'-price'">
        <!-- <h3 ng-include="'templates/product-title.html'">Loading...</h3> -->
        <h3><product-title></product-title></h3>
        <img ng-src="{{product.image.full}}"/>
        <product-panels ng-controller="PanelController as panels"></product-panels>
     </li>
    </ul>
    <script src="js/angular.1.6.2.min.js"></script>
    <script src="js/app.js"></script>
    <script src="js/products.js"></script>
  </body>
</html>